<section class="productos-por-categoria">
    <?php foreach ($categorias as $categoria): ?>
        <div class="categoria">
            <h2><?= htmlspecialchars($categoria->nombre) ?></h2>

            <div class="productos">
                <?php if (!empty($categoria->productos)): ?>
                    <?php foreach ($categoria->productos as $producto): ?>
                        <article class="producto">
                            <img src="<?= htmlspecialchars($producto->imagen_url) ?>" alt="<?= htmlspecialchars($producto->nombre) ?>">
                            <h3><?= htmlspecialchars($producto->nombre) ?></h3>
                            <p class="precio">$<?= htmlspecialchars($producto->precio) ?></p>
                            <p class="descripcion"><?= htmlspecialchars($producto->descripcion) ?></p>
                            <p class="categoria-nombre">Categoría: <?= htmlspecialchars($categoria->nombre) ?></p>
                            <a href="producto/<?= $producto->id ?>" class="ver-detalle">Ver detalle</a>
                        </article>
                    <?php endforeach; ?>
                <?php else: ?>
                    <p class="sin-productos">No hay productos en esta categoría.</p>
                <?php endif; ?>
            </div>
        </div>
    <?php endforeach; ?>
</section>
